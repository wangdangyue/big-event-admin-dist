import{u as c,r as u,o as _,c as g,b as l,d as a,f as b,bZ as v,E as V}from"./index-600590e7.js";import{E as y,a as k}from"./el-form-item-0e65acbd.js";import{E as x}from"./_plugin-vue_export-helper-e998ce82.js";import{E}from"./el-input-1d2406b5.js";import{P as U}from"./PageContainer-b1730844.js";import"./el-message-378b593e.js";const q={__name:"UserProfile",setup(w){const m=c(),n=u(),e=u({username:"",nickname:"",email:""});e.value=m.user;const i={nickname:[{required:!0,message:"昵称不能为空",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称长度在2-10个非空字符之间",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:["blur","change"]}]},d=async()=>{await n.value.validate(),await v(e.value),V.success("更新成功"),m.getUser()};return(S,t)=>{const s=E,o=y,p=x,f=k;return _(),g(U,{title:"基本资料"},{default:l(()=>[a(f,{model:e.value,rules:i,ref_key:"form",ref:n,"label-width":"100px",style:{"max-width":"460px"}},{default:l(()=>[a(o,{label:"登录名称"},{default:l(()=>[a(s,{modelValue:e.value.username,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value.username=r),disabled:!0},null,8,["modelValue"])]),_:1}),a(o,{label:"用户昵称",prop:"nickname"},{default:l(()=>[a(s,{modelValue:e.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=r=>e.value.nickname=r)},null,8,["modelValue"])]),_:1}),a(o,{label:"用户邮箱",prop:"email"},{default:l(()=>[a(s,{modelValue:e.value.email,"onUpdate:modelValue":t[2]||(t[2]=r=>e.value.email=r)},null,8,["modelValue"])]),_:1}),a(o,{style:{"justify-content":"flex-end"}},{default:l(()=>[a(p,{style:{"justify-content":"flex-end"},type:"primary",onClick:d},{default:l(()=>[b("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{q as default};
